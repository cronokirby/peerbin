<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <link rel="stylesheet" type="text/css" href="index.css">
  <link rel="stylesheet" type="text/css" href="highlight.css">
  <script src="elm.js"></script>
  <script src="highlight.js"></script>
</head>

<body>
  <div id="elm"></div>
  <script>
  var app = Elm.Main.init({
    node: document.getElementById('elm')
  });

  app.ports.outClient.subscribe(function(data) {
    if (data.highlight) {
      var code = document.getElementById('code-view');
      code.className = data.highlight.style;
      code.innerHTML = data.highlight.text;
      hljs.highlightBlock(code);
    }
    if (data.seed) {
      app.ports.inClient.send({textArrived: {id: '1337', text: data.seed}});
    }
  });
  </script>
</body>
</html>